# Документация по запуску проекта Book Service

## Необходимые условия

Перед началом работы убедитесь, что у вас установлены:

- [Node.js](https://nodejs.org/) (рекомендуется использовать последнюю стабильную версию)
- [npm](https://www.npmjs.com/) (обычно устанавливается вместе с Node.js)
- Система управления базами данных (например, PostgreSQL, MySQL, SQLite). Пример будет использовать PostgreSQL.

## Настройка базы данных

1. Установите и запустите вашу СУБД. Пример документации для [PostgreSQL](https://www.postgresql.org/docs/).

2. Создайте базу данных, которую будет использовать ваше приложение.

3. Настройте параметры подключения к базе данных в файле `.env` в корне проекта:

   ```
   DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DATABASE_NAME"
   ```

   Замените `USER`, `PASSWORD`, `HOST`, `PORT` и `DATABASE_NAME` на соответствующие значения, используемые для вашей
   базы данных.

## Настройка проекта

1. Клонируйте репозиторий:

   ```
   git clone https://github.com/melkoto/book-service.git
   ```

2. Перейдите в каталог проекта:

   ```
   cd book-service
   ```

3. Установите зависимости:

   ```
   npm install
   ```

4. Запустите миграции базы данных (убедитесь, что ваша СУБД запущена и доступна):

   ```
   npx prisma migrate deploy
   ```

   Это создаст необходимые таблицы в вашей базе данных в соответствии с моделью Prisma.

## Запуск проекта

- Для запуска сервера в режиме разработки выполните:

  ```
  npm run dev
  ```

- Для запуска сервера в продакшн-режиме сначала соберите проект:

  ```
  npm run build
  ```

  Затем запустите собранную версию:

  ```
  npm start
  ```

## Дополнительные шаги

- Для работы с токенами аутентификации и обновления вам потребуется определить переменные окружения `JWT_SECRET`
  и `REFRESH_TOKEN_SECRET` в файле `.env`. Вы можете сгенерировать секретные ключи, используя Node.js:

  ```javascript
  require('crypto').randomBytes(64).toString('hex');
  ```
